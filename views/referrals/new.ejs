<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <title>Create a Referral</title>
</head>

<body>
    <%- include('../partials/_navbar.ejs') %>

    <form action="/users/<%= user._id %>/referrals" method="POST" class="referral-form">

        <fieldset class="form-fieldset">
            <legend>New Referral:</legend>
            
            <h2>Client Information:</h2>
            <div class="form-row">
                
                <div class="form-group">
                    <label for="name.firstName">First name:</label>
                    <input type="text" name="name.firstName" id="name.firstName" pattern="[A-Za-zÀ-ÿa-zA-Z\s-'–]+">
                </div>
                
                <div class="form-group">
                    <label for="name.lastName">Last name:</label>
                    <input type="text" name="name.lastName" id="name.lastName" pattern="[A-Za-zÀ-ÿa-zA-Z\s-'–]+">
                </div>
                
                <div class="form-group">
                    <label for="birthday">Birthday:</label>
                    <input type="date" name="birthday" id="birthday">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="school">School:</label>
                    <input type="text" name="school" id="school">
                </div>
                
                <div class="form-group">
                    <label for="currentGrade">Current grade:</label>
                    <input type="text" name="currentGrade" maxlength="2" id="currentGrade">
                </div>
            </div>

            <div>
                <div class="form-group full-width">
                    <label for="address">Address:</label>
                    <input type="text" name="address" id="address">
                </div>
            </div>

            <div>
                <div class="form-group full-width">
                    <label for="notes">Notes:</label>
                    <textarea name="notes" id="notes" rows="4" cols="50"></textarea>
                </div>
            </div>

            <h2>Caregiver Information:</h2>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="caregiverName.firstName">First name:</label>
                    <input type="text" name="caregiverName.firstName" id="caregiverName.firstName" pattern="[A-Za-zÀ-ÿa-zA-Z\s-'–]+">
                </div>
            
                <div class="form-group">
                    <label for="caregiverName.lastName">Last name:</label>
                    <input type="text" name="caregiverName.lastName" id="caregiverName.lastName" pattern="[A-Za-zÀ-ÿa-zA-Z\s-'–]+">
                </div>
            </div>
            
            <div class="form-row">            
                <div class="form-group">
                    <label for="caregiverRelationship">Relationship:</label>
                    <input type="text" name="caregiverRelationship" id="caregiverRelationship">
                </div>

                <div class="form-group">
                    <label>Legal guardian:</label>
                    <div>
                        <input type="radio" name="caregiverIsGuardian" id="guardianYes" value="yes">
                        <label for="guardianYes">Yes</label>
                        <input type="radio" name="caregiverIsGuardian" id="guardianNo" value="no">
                        <label for="guardianNo">No</label>
                        <input type="radio" name="caregiverIsGuardian" id="guardianUnknown" value="unknown" checked>
                        <label for="guardianUnknown">Unknown</label>
                    </div>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="caregiverPhone">Phone:</label>
                    <input type="text" name="caregiverPhone" id="caregiverPhone">
                </div>
            
                <div class="form-group">
                    <label for="caregiverEmail">Email:</label>
                    <input type="text" name="caregiverEmail" id="caregiverEmail">
                </div>
            </div>


        </fieldset>

        <div>
            <button type="submit" class="button-primary">Create Referral</button>
        </div>

    </form>

</body>

<footer>
</footer>

</html>